-- MySQL dump 10.13  Distrib 8.0.44, for Win64 (x86_64)
--
-- Host: localhost    Database: pilates
-- ------------------------------------------------------
-- Server version	8.0.44

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `bookings`
--

DROP TABLE IF EXISTS `bookings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `bookings` (
  `id` int NOT NULL AUTO_INCREMENT,
  `member_id` int NOT NULL,
  `schedule_id` int NOT NULL,
  `status` enum('BOOKED','CANCELLED','LATE_CANCEL','COMPLETED','NO_SHOW') NOT NULL,
  `booked_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `cancelled_at` datetime DEFAULT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `member_id` (`member_id`,`schedule_id`),
  KEY `fk_booking_schedule_idx` (`schedule_id`),
  CONSTRAINT `fk_booking_member` FOREIGN KEY (`member_id`) REFERENCES `members` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `fk_booking_schedule` FOREIGN KEY (`schedule_id`) REFERENCES `class_schedule` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=44 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `bookings`
--

LOCK TABLES `bookings` WRITE;
/*!40000 ALTER TABLE `bookings` DISABLE KEYS */;
INSERT INTO `bookings` VALUES (1,1,1,'CANCELLED','2026-02-23 19:43:51',NULL,'2026-02-23 19:43:51'),(3,1,5,'CANCELLED','2026-02-24 15:07:48',NULL,'2026-02-24 15:07:48'),(4,1,6,'CANCELLED','2026-02-24 15:45:52',NULL,'2026-02-24 15:45:52'),(5,1,3,'BOOKED','2026-02-24 16:04:53',NULL,'2026-02-24 16:04:53'),(6,1,4,'CANCELLED','2026-02-24 16:13:53',NULL,'2026-02-24 16:13:53'),(9,2,3,'BOOKED','2026-02-25 10:16:11',NULL,'2026-02-25 10:16:11'),(10,2,6,'BOOKED','2026-02-25 10:16:13',NULL,'2026-02-25 10:16:13'),(11,2,9,'BOOKED','2026-02-25 10:16:25',NULL,'2026-02-25 10:16:25'),(12,2,12,'BOOKED','2026-02-25 10:16:28',NULL,'2026-02-25 10:16:28'),(13,2,15,'BOOKED','2026-02-25 10:16:32',NULL,'2026-02-25 10:16:32'),(14,2,18,'BOOKED','2026-02-25 10:16:37',NULL,'2026-02-25 10:16:37'),(15,2,21,'BOOKED','2026-02-25 10:16:41',NULL,'2026-02-25 10:16:41'),(16,2,24,'BOOKED','2026-02-25 10:16:46',NULL,'2026-02-25 10:16:46'),(17,2,27,'BOOKED','2026-02-25 10:16:49',NULL,'2026-02-25 10:16:49'),(18,2,30,'BOOKED','2026-02-25 10:16:53',NULL,'2026-02-25 10:16:53'),(19,2,33,'BOOKED','2026-02-25 10:17:00',NULL,'2026-02-25 10:17:00'),(20,2,36,'BOOKED','2026-02-25 10:17:04',NULL,'2026-02-25 10:17:04'),(21,2,39,'BOOKED','2026-02-25 10:17:09',NULL,'2026-02-25 10:17:09'),(22,2,42,'BOOKED','2026-02-25 10:17:13',NULL,'2026-02-25 10:17:13'),(23,2,45,'BOOKED','2026-02-25 10:17:19',NULL,'2026-02-25 10:17:19'),(24,2,93,'BOOKED','2026-02-25 10:17:25',NULL,'2026-02-25 10:17:25'),(25,2,90,'BOOKED','2026-02-25 10:17:28',NULL,'2026-02-25 10:17:28'),(26,2,87,'BOOKED','2026-02-25 10:17:34',NULL,'2026-02-25 10:17:34'),(27,2,84,'BOOKED','2026-02-25 10:17:38',NULL,'2026-02-25 10:17:38'),(28,2,81,'BOOKED','2026-02-25 10:17:43',NULL,'2026-02-25 10:17:43'),(29,2,78,'BOOKED','2026-02-25 10:17:48',NULL,'2026-02-25 10:17:48'),(30,2,75,'BOOKED','2026-02-25 10:17:52',NULL,'2026-02-25 10:17:52'),(31,2,60,'BOOKED','2026-02-25 10:17:57',NULL,'2026-02-25 10:17:57'),(32,2,63,'BOOKED','2026-02-25 10:18:01',NULL,'2026-02-25 10:18:01'),(33,2,57,'BOOKED','2026-02-25 10:18:05',NULL,'2026-02-25 10:18:05'),(34,1,7,'BOOKED','2026-02-25 10:37:58',NULL,'2026-02-25 10:37:58'),(35,1,13,'BOOKED','2026-02-25 10:38:02',NULL,'2026-02-25 10:38:02'),(36,1,14,'BOOKED','2026-02-25 10:38:05',NULL,'2026-02-25 10:38:05'),(37,1,28,'BOOKED','2026-02-25 10:38:09',NULL,'2026-02-25 10:38:09'),(38,1,24,'BOOKED','2026-02-25 10:38:12',NULL,'2026-02-25 10:38:12'),(39,1,25,'BOOKED','2026-02-25 10:38:16',NULL,'2026-02-25 10:38:16'),(40,1,64,'BOOKED','2026-02-25 10:38:19',NULL,'2026-02-25 10:38:19'),(41,1,91,'BOOKED','2026-02-25 10:38:24',NULL,'2026-02-25 10:38:24'),(42,1,19,'BOOKED','2026-02-25 10:41:07',NULL,'2026-02-25 10:41:07'),(43,4,13,'BOOKED','2026-02-25 12:26:04',NULL,'2026-02-25 12:26:04');
/*!40000 ALTER TABLE `bookings` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `class_schedule`
--

DROP TABLE IF EXISTS `class_schedule`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `class_schedule` (
  `id` int NOT NULL AUTO_INCREMENT,
  `template_id` int NOT NULL,
  `coach_id` int NOT NULL,
  `start_time` datetime NOT NULL,
  `end_time` datetime NOT NULL,
  `max_capacity` int NOT NULL,
  `current_capacity` int NOT NULL DEFAULT '0',
  `point_cost` int NOT NULL,
  `cancel_deadline_hours` int NOT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `fk_schedule_template_idx` (`template_id`),
  KEY `fk_schedule_coach_idx` (`coach_id`),
  CONSTRAINT `fk_schedule_coach` FOREIGN KEY (`coach_id`) REFERENCES `coaches` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `fk_schedule_template` FOREIGN KEY (`template_id`) REFERENCES `class_templates` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=96 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `class_schedule`
--

LOCK TABLES `class_schedule` WRITE;
/*!40000 ALTER TABLE `class_schedule` DISABLE KEYS */;
INSERT INTO `class_schedule` VALUES (3,1,1,'2026-03-01 10:00:00','2026-03-01 12:00:00',12,2,20,24,'2026-02-24 12:03:00'),(4,2,2,'2026-03-01 15:00:00','2026-03-01 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(5,3,3,'2026-03-01 20:00:00','2026-03-01 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(6,1,1,'2026-03-02 10:00:00','2026-03-02 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(7,2,2,'2026-03-02 15:00:00','2026-03-02 17:00:00',12,1,20,24,'2026-02-24 12:03:00'),(8,3,3,'2026-03-02 20:00:00','2026-03-02 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(9,1,1,'2026-03-03 10:00:00','2026-03-03 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(10,2,2,'2026-03-03 15:00:00','2026-03-03 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(11,3,3,'2026-03-03 20:00:00','2026-03-03 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(12,1,1,'2026-03-04 10:00:00','2026-03-04 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(13,2,2,'2026-03-04 15:00:00','2026-03-04 17:00:00',12,2,20,24,'2026-02-24 12:03:00'),(14,3,3,'2026-03-04 20:00:00','2026-03-04 22:00:00',12,1,20,24,'2026-02-24 12:03:00'),(15,1,1,'2026-03-05 10:00:00','2026-03-05 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(16,2,2,'2026-03-05 15:00:00','2026-03-05 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(17,3,3,'2026-03-05 20:00:00','2026-03-05 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(18,1,1,'2026-03-06 10:00:00','2026-03-06 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(19,2,2,'2026-03-06 15:00:00','2026-03-06 17:00:00',12,1,20,24,'2026-02-24 12:03:00'),(20,3,3,'2026-03-06 20:00:00','2026-03-06 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(21,1,1,'2026-03-07 10:00:00','2026-03-07 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(22,2,2,'2026-03-07 15:00:00','2026-03-07 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(23,3,3,'2026-03-07 20:00:00','2026-03-07 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(24,1,1,'2026-03-08 10:00:00','2026-03-08 12:00:00',12,2,20,24,'2026-02-24 12:03:00'),(25,2,2,'2026-03-08 15:00:00','2026-03-08 17:00:00',12,1,20,24,'2026-02-24 12:03:00'),(26,3,3,'2026-03-08 20:00:00','2026-03-08 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(27,1,1,'2026-03-09 10:00:00','2026-03-09 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(28,2,2,'2026-03-09 15:00:00','2026-03-09 17:00:00',12,1,20,24,'2026-02-24 12:03:00'),(29,3,3,'2026-03-09 20:00:00','2026-03-09 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(30,1,1,'2026-03-10 10:00:00','2026-03-10 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(31,2,2,'2026-03-10 15:00:00','2026-03-10 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(32,3,3,'2026-03-10 20:00:00','2026-03-10 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(33,1,1,'2026-03-11 10:00:00','2026-03-11 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(34,2,2,'2026-03-11 15:00:00','2026-03-11 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(35,3,3,'2026-03-11 20:00:00','2026-03-11 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(36,1,1,'2026-03-12 10:00:00','2026-03-12 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(37,2,2,'2026-03-12 15:00:00','2026-03-12 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(38,3,3,'2026-03-12 20:00:00','2026-03-12 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(39,1,1,'2026-03-13 10:00:00','2026-03-13 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(40,2,2,'2026-03-13 15:00:00','2026-03-13 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(41,3,3,'2026-03-13 20:00:00','2026-03-13 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(42,1,1,'2026-03-14 10:00:00','2026-03-14 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(43,2,2,'2026-03-14 15:00:00','2026-03-14 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(44,3,3,'2026-03-14 20:00:00','2026-03-14 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(45,1,1,'2026-03-15 10:00:00','2026-03-15 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(46,2,2,'2026-03-15 15:00:00','2026-03-15 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(47,3,3,'2026-03-15 20:00:00','2026-03-15 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(48,1,1,'2026-03-16 10:00:00','2026-03-16 12:00:00',12,0,20,24,'2026-02-24 12:03:00'),(49,2,2,'2026-03-16 15:00:00','2026-03-16 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(50,3,3,'2026-03-16 20:00:00','2026-03-16 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(51,1,1,'2026-03-17 10:00:00','2026-03-17 12:00:00',12,0,20,24,'2026-02-24 12:03:00'),(52,2,2,'2026-03-17 15:00:00','2026-03-17 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(53,3,3,'2026-03-17 20:00:00','2026-03-17 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(54,1,1,'2026-03-18 10:00:00','2026-03-18 12:00:00',12,0,20,24,'2026-02-24 12:03:00'),(55,2,2,'2026-03-18 15:00:00','2026-03-18 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(56,3,3,'2026-03-18 20:00:00','2026-03-18 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(57,1,1,'2026-03-19 10:00:00','2026-03-19 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(58,2,2,'2026-03-19 15:00:00','2026-03-19 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(59,3,3,'2026-03-19 20:00:00','2026-03-19 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(60,1,1,'2026-03-20 10:00:00','2026-03-20 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(61,2,2,'2026-03-20 15:00:00','2026-03-20 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(62,3,3,'2026-03-20 20:00:00','2026-03-20 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(63,1,1,'2026-03-21 10:00:00','2026-03-21 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(64,2,2,'2026-03-21 15:00:00','2026-03-21 17:00:00',12,1,20,24,'2026-02-24 12:03:00'),(65,3,3,'2026-03-21 20:00:00','2026-03-21 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(66,1,1,'2026-03-22 10:00:00','2026-03-22 12:00:00',12,0,20,24,'2026-02-24 12:03:00'),(67,2,2,'2026-03-22 15:00:00','2026-03-22 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(68,3,3,'2026-03-22 20:00:00','2026-03-22 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(69,1,1,'2026-03-23 10:00:00','2026-03-23 12:00:00',12,0,20,24,'2026-02-24 12:03:00'),(70,2,2,'2026-03-23 15:00:00','2026-03-23 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(71,3,3,'2026-03-23 20:00:00','2026-03-23 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(72,1,1,'2026-03-24 10:00:00','2026-03-24 12:00:00',12,0,20,24,'2026-02-24 12:03:00'),(73,2,2,'2026-03-24 15:00:00','2026-03-24 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(74,3,3,'2026-03-24 20:00:00','2026-03-24 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(75,1,1,'2026-03-25 10:00:00','2026-03-25 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(76,2,2,'2026-03-25 15:00:00','2026-03-25 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(77,3,3,'2026-03-25 20:00:00','2026-03-25 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(78,1,1,'2026-03-26 10:00:00','2026-03-26 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(79,2,2,'2026-03-26 15:00:00','2026-03-26 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(80,3,3,'2026-03-26 20:00:00','2026-03-26 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(81,1,1,'2026-03-27 10:00:00','2026-03-27 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(82,2,2,'2026-03-27 15:00:00','2026-03-27 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(83,3,3,'2026-03-27 20:00:00','2026-03-27 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(84,1,1,'2026-03-28 10:00:00','2026-03-28 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(85,2,2,'2026-03-28 15:00:00','2026-03-28 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(86,3,3,'2026-03-28 20:00:00','2026-03-28 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(87,1,1,'2026-03-29 10:00:00','2026-03-29 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(88,2,2,'2026-03-29 15:00:00','2026-03-29 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(89,3,3,'2026-03-29 20:00:00','2026-03-29 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(90,1,1,'2026-03-30 10:00:00','2026-03-30 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(91,2,2,'2026-03-30 15:00:00','2026-03-30 17:00:00',12,1,20,24,'2026-02-24 12:03:00'),(92,3,3,'2026-03-30 20:00:00','2026-03-30 22:00:00',12,0,20,24,'2026-02-24 12:03:00'),(93,1,1,'2026-03-31 10:00:00','2026-03-31 12:00:00',12,1,20,24,'2026-02-24 12:03:00'),(94,2,2,'2026-03-31 15:00:00','2026-03-31 17:00:00',12,0,20,24,'2026-02-24 12:03:00'),(95,3,3,'2026-03-31 20:00:00','2026-03-31 22:00:00',12,0,20,24,'2026-02-24 12:03:00');
/*!40000 ALTER TABLE `class_schedule` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `class_templates`
--

DROP TABLE IF EXISTS `class_templates`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `class_templates` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  `description` text,
  `class_type` enum('PRIVATE','GROUP') NOT NULL,
  `default_capacity` int NOT NULL DEFAULT '1',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `class_templates`
--

LOCK TABLES `class_templates` WRITE;
/*!40000 ALTER TABLE `class_templates` DISABLE KEYS */;
INSERT INTO `class_templates` VALUES (1,'和緩皮拉提斯',NULL,'PRIVATE',1,'2026-02-24 04:02:15'),(2,'古典皮拉提斯',NULL,'PRIVATE',1,'2026-02-24 04:02:15'),(3,'墊上皮拉提斯',NULL,'PRIVATE',1,'2026-02-24 04:02:15');
/*!40000 ALTER TABLE `class_templates` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `coaches`
--

DROP TABLE IF EXISTS `coaches`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `coaches` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL,
  `specialty` varchar(100) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `status` varchar(20) NOT NULL DEFAULT 'ACTIVE',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `coaches`
--

LOCK TABLES `coaches` WRITE;
/*!40000 ALTER TABLE `coaches` DISABLE KEYS */;
INSERT INTO `coaches` VALUES (1,'Fei','和緩皮拉提斯','0930888888','Fei@gmail.com','ACTIVE','2026-02-24 03:54:31'),(2,'Mini','古典皮拉提斯','0920888888','Mini@gmail.com','ACTIVE','2026-02-24 03:54:31'),(3,'Angel','墊上皮拉提斯','0910888888','Angel@gmail.com','ACTIVE','2026-02-24 03:54:31');
/*!40000 ALTER TABLE `coaches` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `member_packages`
--

DROP TABLE IF EXISTS `member_packages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `member_packages` (
  `id` int NOT NULL AUTO_INCREMENT,
  `member_id` int NOT NULL,
  `package_id` int NOT NULL,
  `total_points` int NOT NULL,
  `remaining_points` int NOT NULL,
  `purchase_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `expiry_date` datetime NOT NULL,
  `status` enum('ACTIVE','EXPIRED') NOT NULL DEFAULT 'ACTIVE',
  PRIMARY KEY (`id`),
  KEY `fk_mp_member` (`member_id`),
  KEY `fk_mp_package` (`package_id`),
  CONSTRAINT `fk_mp_member` FOREIGN KEY (`member_id`) REFERENCES `members` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `fk_mp_package` FOREIGN KEY (`package_id`) REFERENCES `packages` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `member_packages`
--

LOCK TABLES `member_packages` WRITE;
/*!40000 ALTER TABLE `member_packages` DISABLE KEYS */;
INSERT INTO `member_packages` VALUES (1,1,1,100,100,'2026-02-23 19:13:58','2026-03-25 19:13:58','ACTIVE'),(2,1,1,100,100,'2026-02-24 11:15:21','2026-03-26 11:15:21','ACTIVE'),(3,2,4,500,500,'2026-02-25 10:16:02','2027-02-25 10:16:02','ACTIVE'),(4,4,4,500,500,'2026-02-25 12:25:52','2027-02-25 12:25:52','ACTIVE'),(5,4,4,500,500,'2026-02-25 12:25:55','2027-02-25 12:25:55','ACTIVE'),(6,4,4,500,500,'2026-02-25 12:25:56','2027-02-25 12:25:56','ACTIVE'),(7,4,4,500,500,'2026-02-25 12:25:57','2027-02-25 12:25:57','ACTIVE'),(8,4,4,500,500,'2026-02-25 12:25:58','2027-02-25 12:25:58','ACTIVE');
/*!40000 ALTER TABLE `member_packages` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `members`
--

DROP TABLE IF EXISTS `members`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `members` (
  `id` int NOT NULL AUTO_INCREMENT,
  `member_no` varchar(20) NOT NULL,
  `name` varchar(50) NOT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `status` varchar(20) NOT NULL DEFAULT 'ACTIVE',
  `point_balance` int NOT NULL DEFAULT '0',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `password` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `member_no_UNIQUE` (`member_no`),
  UNIQUE KEY `phone_UNIQUE` (`phone`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `members`
--

LOCK TABLES `members` WRITE;
/*!40000 ALTER TABLE `members` DISABLE KEYS */;
INSERT INTO `members` VALUES (1,'M0001','王大明','0912345678','a@gmail.com','ACTIVE',20,'2026-02-23 14:25:33','1234'),(2,'M0002','Sammi','0922345678','Sammi@gmail.com','ACTIVE',0,'2026-02-25 10:15:11','1234'),(3,'M9999','管理者','0900000000','admin@test.com','ADMIN',0,'2026-02-25 03:06:06','1234'),(4,'M0004','錢夫人','0933333333','Money@gmail.com','ACTIVE',2480,'2026-02-25 12:25:40','1234');
/*!40000 ALTER TABLE `members` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `packages`
--

DROP TABLE IF EXISTS `packages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `packages` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  `total_points` int NOT NULL,
  `price` int NOT NULL,
  `valid_days` int NOT NULL,
  `status` enum('ACTIVE','INACTIVE') NOT NULL DEFAULT 'ACTIVE',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `packages`
--

LOCK TABLES `packages` WRITE;
/*!40000 ALTER TABLE `packages` DISABLE KEYS */;
INSERT INTO `packages` VALUES (1,'100點方案',100,3000,365,'ACTIVE','2026-02-23 11:13:30'),(2,'200點方案',200,5400,365,'ACTIVE','2026-02-24 03:20:06'),(3,'300點方案',300,7200,365,'ACTIVE','2026-02-24 03:20:54'),(4,'500點方案',500,10500,365,'ACTIVE','2026-02-24 03:21:50');
/*!40000 ALTER TABLE `packages` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `point_transactions`
--

DROP TABLE IF EXISTS `point_transactions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `point_transactions` (
  `id` int NOT NULL AUTO_INCREMENT,
  `member_id` int NOT NULL,
  `booking_id` int DEFAULT NULL,
  `points` int NOT NULL,
  `type` enum('CREDIT','DEBIT') NOT NULL,
  `reason` varchar(100) NOT NULL DEFAULT 'SYSTEM',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `fk_pt_member` (`member_id`),
  KEY `fk_pt_booking` (`booking_id`),
  CONSTRAINT `fk_pt_booking` FOREIGN KEY (`booking_id`) REFERENCES `bookings` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `fk_pt_member` FOREIGN KEY (`member_id`) REFERENCES `members` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=58 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `point_transactions`
--

LOCK TABLES `point_transactions` WRITE;
/*!40000 ALTER TABLE `point_transactions` DISABLE KEYS */;
INSERT INTO `point_transactions` VALUES (1,1,NULL,100,'CREDIT','購買方案','2026-02-23 19:13:58'),(2,1,NULL,20,'CREDIT','取消課程','2026-02-23 20:04:02'),(3,1,NULL,100,'CREDIT','購買方案','2026-02-24 11:15:21'),(4,1,NULL,20,'DEBIT','預約課程','2026-02-24 15:07:48'),(5,1,NULL,20,'DEBIT','預約課程','2026-02-24 15:45:52'),(6,1,NULL,20,'CREDIT','取消課程','2026-02-24 16:01:01'),(7,1,NULL,20,'CREDIT','取消課程','2026-02-24 16:01:26'),(8,1,NULL,20,'DEBIT','預約課程','2026-02-24 16:04:53'),(9,1,NULL,20,'CREDIT','取消課程','2026-02-24 16:05:00'),(10,1,NULL,20,'DEBIT','預約課程','2026-02-24 16:13:53'),(11,1,NULL,20,'CREDIT','取消課程','2026-02-24 16:14:03'),(12,1,NULL,20,'DEBIT','預約課程','2026-02-24 16:19:19'),(13,1,NULL,20,'CREDIT','取消課程','2026-02-24 16:19:25'),(14,1,NULL,20,'DEBIT','預約課程','2026-02-24 16:19:28'),(15,1,NULL,20,'DEBIT','預約課程','2026-02-24 16:31:02'),(16,1,NULL,20,'CREDIT','取消課程','2026-02-24 16:32:42'),(17,2,NULL,500,'CREDIT','購買方案','2026-02-25 10:16:02'),(18,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:11'),(19,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:13'),(20,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:25'),(21,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:28'),(22,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:32'),(23,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:37'),(24,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:41'),(25,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:46'),(26,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:49'),(27,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:16:53'),(28,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:00'),(29,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:04'),(30,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:09'),(31,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:13'),(32,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:19'),(33,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:25'),(34,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:28'),(35,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:34'),(36,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:38'),(37,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:43'),(38,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:48'),(39,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:52'),(40,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:17:57'),(41,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:18:01'),(42,2,NULL,20,'DEBIT','預約課程','2026-02-25 10:18:05'),(43,1,NULL,20,'DEBIT','預約課程','2026-02-25 10:37:58'),(44,1,NULL,20,'DEBIT','預約課程','2026-02-25 10:38:02'),(45,1,NULL,20,'DEBIT','預約課程','2026-02-25 10:38:05'),(46,1,NULL,20,'DEBIT','預約課程','2026-02-25 10:38:09'),(47,1,NULL,20,'DEBIT','預約課程','2026-02-25 10:38:12'),(48,1,NULL,20,'DEBIT','預約課程','2026-02-25 10:38:16'),(49,1,NULL,20,'DEBIT','預約課程','2026-02-25 10:38:19'),(50,1,NULL,20,'DEBIT','預約課程','2026-02-25 10:38:24'),(51,1,NULL,20,'DEBIT','預約課程','2026-02-25 10:41:07'),(52,4,NULL,500,'CREDIT','購買方案','2026-02-25 12:25:52'),(53,4,NULL,500,'CREDIT','購買方案','2026-02-25 12:25:55'),(54,4,NULL,500,'CREDIT','購買方案','2026-02-25 12:25:56'),(55,4,NULL,500,'CREDIT','購買方案','2026-02-25 12:25:57'),(56,4,NULL,500,'CREDIT','購買方案','2026-02-25 12:25:58'),(57,4,NULL,20,'DEBIT','預約課程','2026-02-25 12:26:04');
/*!40000 ALTER TABLE `point_transactions` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2026-02-25 13:11:37
